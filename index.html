<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">

<link rel="stylesheet" href="https://unpkg.com/prism-themes@1.4.0/themes/prism-synthwave84.css">

<script src="node_modules/prismjs/prism.js"></script>
<script src="https://unpkg.com/hyperscript.org@0.0.8/dist/_hyperscript_w9y.min.js"></script>
<script src="prism-hyperscript.js"></script>

<style>
:root, textarea {
	color-scheme: white black;
	background: black;
	color: white;
}
</style>

<textarea id="input" cols="80" rows="10" placeholder="write code here to see how it looks highlighted"></textarea>

<pre><code id="preview" class="lang-hyperscript" _="
	on load or input from #input
		put #input's value into me
		then call Prism.highlightElement(me)"></code></pre>

<pre><code class="lang-hyperscript">on mousedown(clientX, clientY)
	call event.preventDefault()

	log "drag start"

	measure my x, y
	set xoff to clientX - x
	set yoff to clientY - y

	transition margin-top to '-10px'
	           box-shadow to '8px 8px 2px 1px rgba(0, 0, 0, .2)'
	           over 50ms

	repeat until event mouseup from document
		wait for mousemove(pageX, pageY) or
			mouseup(pageX, pageY) from document
		add { left: `${pageX - xoff}px`, top: `${pageY - yoff}px` }
	end

	transition margin-top to 0
	           box-shadow to '0 0 0 0'
	           over 50ms

	add .disabled to #myDiv
	for tab in .tabs
		add .highlight to tab
	end

	set arr to ["a", "ab", "abc"]
	set lengths to arr.map( \ str -> str.length )

	tell #debug-demo
		transition 'background-color' to red
		transition 'background-color' to green
		transition 'background-color' to blue
		transition 'background-color' to initial
	end

	get event.clientX

	wait 1s
	wait 1ms
	wait n s
	wait n ms
	wait n seconds
	wait n milliseconds

	on click toggle between .enabled and .disabled
	
	</code></pre>

<pre><code class="lang-html">
	&lt;div _="on click transition 'opacity' to 0 then remove">asdasd&lt;/div>
	&lt;script type="text/hyperscript">
		on click from .close in me add .fade settle then remove
	&lt;/script></code></pre>
